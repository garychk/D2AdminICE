(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b90ef106"],{"57bf":function(t,e,r){},9590:function(t,e,r){"use strict";var l=r("57bf"),o=r.n(l);o.a},ce52:function(t,e,r){"use strict";r.r(e);var l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-tooltip",{attrs:{effect:"dark",content:t.tooltipContent,placement:"bottom"}},[r("el-button",{staticClass:"d2-ml-0 d2-mr btn-text can-hover",attrs:{type:"text"},on:{click:t.handleClick}},[t.logLength>0?r("el-badge",{attrs:{max:99,value:t.logLengthError,"is-dot":0===t.logLengthError}},[r("d2-icon",{staticStyle:{"font-size":"20px"},attrs:{name:0===t.logLengthError?"dot-circle-o":"bug"}})],1):r("d2-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"dot-circle-o"}})],1)],1),r("el-dialog",{attrs:{title:t.tooltipContent,fullscreen:!0,visible:t.dialogVisible,"append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("div",{staticClass:"d2-mb-10"},[r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.handleLogClean}},[r("d2-icon",{attrs:{name:"trash-o"}}),t._v("\n        清空\n      ")],1)],1),r("d2-error-log-list")],1)],1)},o=[],n=r("cebc"),a=r("2f62"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.logReverse,border:"",stripe:"",size:"mini"}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return r("div",{staticClass:"d2-error-log-list__expand-group"},[r("expand-item",{attrs:{type:e.row.type,title:"类型",value:"log"===e.row.type?"日志":"异常"}}),r("expand-item",{attrs:{type:e.row.type,title:"内容",value:e.row.info}}),"error"===e.row.type?r("expand-item",{attrs:{type:"error",title:"报错组件",value:t.get(e.row.vm,"$vnode.tag","")}}):t._e(),"error"===e.row.type?r("expand-item",{attrs:{type:"error",title:"错误名称",value:t.get(e.row.err,"name","")}}):t._e(),"error"===e.row.type?r("expand-item",{attrs:{type:"error",title:"错误信息",value:t.get(e.row.err,"message","")}}):t._e(),"error"===e.row.type?r("expand-item",{attrs:{type:"error",title:"错误堆栈",value:"见下"}},[r("div",{staticStyle:{overflow:"auto"}},[r("pre",[t._v(t._s(t.stackBeautify(e.row.err)))])])]):t._e(),r("expand-item",{attrs:{type:e.row.type,title:"用户名",value:t.get(e.row.user,"name","")}}),r("expand-item",{attrs:{type:e.row.type,title:"uuid",value:e.row.uuid}}),r("expand-item",{attrs:{type:e.row.type,title:"token",value:e.row.token}}),r("expand-item",{attrs:{type:e.row.type,title:"页面地址",value:e.row.url}}),r("expand-item",{attrs:{type:e.row.type,title:"时间",value:e.row.time}})],1)}}])}),r("el-table-column",{attrs:{prop:"type",label:"类型",width:"80px",align:"center",filters:[{text:"日志",value:"log"},{text:"异常",value:"error"}],"filter-multiple":!1,"filter-method":t.filterType,"filter-placement":"bottom"},scopedSlots:t._u([{key:"default",fn:function(e){return["error"===e.row.type?r("el-tag",{attrs:{size:"mini",type:"danger"}},[r("d2-icon",{attrs:{name:"bug"}}),t._v(" Bug\n      ")],1):r("el-tag",{attrs:{size:"mini",type:"info"}},[r("d2-icon",{attrs:{name:"dot-circle-o"}}),t._v(" Log\n      ")],1)]}}])}),r("el-table-column",{attrs:{label:"地址",prop:"url",width:"140px","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"内容",prop:"info","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{label:"错误类型",width:"140px","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.get(e.row.err,"name",""))+"\n    ")]}}])}),r("el-table-column",{attrs:{label:"错误信息",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.get(e.row.err,"message",""))+"\n    ")]}}])})],1)},s=[],c=(r("ac6a"),r("2ef0")),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d2-error-log-list__expand",class:t.className},[r("p",{staticClass:"d2-error-log-list__expand-title"},[t._v(t._s(t.title))]),r("p",{staticClass:"d2-error-log-list__expand-value"},[t._v(t._s(""===t.value?"无数据":t.value))]),t._t("default")],2)},p=[],d=(r("cadf"),r("551c"),r("097d"),{props:{type:{default:"log"},title:{default:""},value:{default:""}},computed:{className:function(){return"log"===this.type?"d2-error-log-list__expand--log":"d2-error-log-list__expand--error"}}}),g=d,f=r("2877"),m=Object(f["a"])(g,u,p,!1,null,null,null),h=m.exports,v={name:"d2-error-log-list",components:{ExpandItem:h},computed:Object(n["a"])({},Object(a["e"])("d2admin",{logList:function(t){return t.log.list}}),{logReverse:function(){var t=this,e=[],r=this.logList.length;return this.logList.forEach(function(l,o){e.push(t.logList[r-1-o])}),e}}),methods:{get:c["get"],filterType:function(t,e){return e.type===t},stackBeautify:function(t){return t?t.stack:""}}},y=v,b=(r("9590"),Object(f["a"])(y,i,s,!1,null,null,null)),w=b.exports,_={components:{D2ErrorLogList:w},data:function(){return{dialogVisible:!1}},computed:Object(n["a"])({},Object(a["c"])("d2admin",{logLength:"log/length",logLengthError:"log/lengthError"}),{tooltipContent:function(){return 0===this.logLength?"没有日志或异常":"".concat(this.logLength," 条日志").concat(this.logLengthError>0?" | 包含 ".concat(this.logLengthError," 个异常"):"")}}),methods:Object(n["a"])({},Object(a["d"])("d2admin/log",["clean"]),{handleClick:function(){this.logLength>0&&(this.dialogVisible=!0)},handleLogClean:function(){this.dialogVisible=!1,this.clean()}})},x=_,L=Object(f["a"])(x,l,o,!1,null,null,null);e["default"]=L.exports}}]);
//# sourceMappingURL=chunk-b90ef106.164f0940.js.map