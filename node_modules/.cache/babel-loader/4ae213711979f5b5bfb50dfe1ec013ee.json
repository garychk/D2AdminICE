{"remainingRequest":"F:\\wwwroot\\D2AdminICE\\node_modules\\thread-loader\\dist\\cjs.js!F:\\wwwroot\\D2AdminICE\\node_modules\\babel-loader\\lib\\index.js!F:\\wwwroot\\D2AdminICE\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\wwwroot\\D2AdminICE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\wwwroot\\D2AdminICE\\src\\pages\\Contents\\components\\TabTable\\TabTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\wwwroot\\D2AdminICE\\src\\pages\\Contents\\components\\TabTable\\TabTable.vue","mtime":1548032257974},{"path":"F:\\wwwroot\\D2AdminICE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\wwwroot\\D2AdminICE\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\wwwroot\\D2AdminICE\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\wwwroot\\D2AdminICE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\wwwroot\\D2AdminICE\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"F:\\\\wwwroot\\\\D2AdminICE\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"F:\\\\wwwroot\\\\D2AdminICE\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BasicContainer from \"@vue-materials/basic-container\";\nimport DeleteBalloon from \"./components/DeleteBalloon\";\nimport EditDialog from \"./components/EditDialog\";\nimport AddDialog from \"../../components/AddDialog\";\nimport { mapActions } from \"vuex\";\nimport util from \"@/libs/util.js\";\nexport default {\n  components: {\n    BasicContainer: BasicContainer,\n    DeleteBalloon: DeleteBalloon,\n    EditDialog: EditDialog,\n    AddDialog: AddDialog\n  },\n  name: \"TabTable\",\n  data: function data() {\n    return {\n      tabKey: \"all\",\n      dataSource: {\n        all: [],\n        inreview: [],\n        released: [],\n        rejected: []\n      },\n      loading: true,\n      pagination: {\n        currentPage: 1,\n        pageSize: 10,\n        total: 100000,\n        layout: 'prev, pager, next, total'\n      },\n      tabs: [{\n        tab: \"全部\",\n        key: \"all\"\n      }, {\n        tab: \"已发布\",\n        key: \"inreview\"\n      }, {\n        tab: \"审核中\",\n        key: \"released\"\n      }, {\n        tab: \"已拒绝\",\n        key: \"rejected\"\n      }],\n      columns: [{\n        title: \"ID\",\n        dataIndex: \"id\",\n        key: \"id\",\n        width: 50,\n        fixed: true\n      }, {\n        title: \"标题\",\n        dataIndex: \"title\",\n        key: \"title\",\n        width: 320,\n        fixed: true\n      }, {\n        title: \"标签\",\n        dataIndex: \"tags\",\n        key: \"tags\"\n      }, {\n        title: \"作者\",\n        dataIndex: \"author\",\n        key: \"author\"\n      }, {\n        title: \"置顶\",\n        dataIndex: \"isTop\",\n        key: \"isTop\"\n      }, {\n        title: \"更新时间\",\n        dataIndex: \"lastModificationTime\",\n        key: \"lastModificationTime\",\n        width: 240,\n        sortable: true,\n        formatter: this.formatDate\n      }],\n      rowHandle: {\n        columnHeader: \"操作\",\n        edit: {\n          icon: \"el-icon-edit\",\n          text: \"编辑\",\n          type: \"primary\",\n          size: \"small\"\n        },\n        remove: {\n          icon: \"el-icon-delete\",\n          text: \"删除\",\n          type: \"danger\",\n          size: \"small\"\n        }\n      },\n      formTemplate: {\n        title: {\n          title: \"标题\",\n          component: {\n            name: \"el-input\",\n            span: 18\n          }\n        },\n        id: {\n          title: \"ID\",\n          component: {\n            name: \"el-input\",\n            span: 6,\n            disabled: true\n          }\n        },\n        subTitle: {\n          title: \"副标题\"\n        },\n        contents: {\n          title: \"内容\",\n          component: {\n            name: \"el-input\",\n            type: \"textarea\"\n          }\n        },\n        tags: {\n          title: \"标签\",\n          component: {\n            name: \"el-input\",\n            span: 12\n          }\n        },\n        author: {\n          title: \"作者\",\n          component: {\n            name: \"el-input\",\n            span: 12\n          }\n        },\n        isTop: {\n          title: \"置顶\",\n          component: {\n            name: \"el-switch\",\n            span: 6\n          }\n        },\n        isRec: {\n          title: \"推荐\",\n          component: {\n            name: \"el-switch\",\n            span: 6\n          }\n        },\n        isHot: {\n          title: \"热\",\n          component: {\n            name: \"el-switch\",\n            span: 6\n          }\n        }\n      },\n      formOptions: {\n        labelWidth: \"120px\",\n        labelPosition: \"right\",\n        saveLoading: false\n      }\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    this.fetchData();\n  },\n  methods: _objectSpread({}, mapActions(\"d2admin/Contents\", [\"GetAll\", \"Del\", \"CreateOrUpdate\", \"Get\"]), {\n    handleClick: function handleClick(tab) {\n      console.log(tab);\n    },\n    handleRowRemove: function handleRowRemove(_ref, done) {\n      var _this = this;\n\n      var index = _ref.index,\n          row = _ref.row;\n      this.Del({\n        id: row.id\n      }).then(function (res) {\n        console.log(res);\n\n        _this.$message({\n          message: \"删除成功\",\n          type: \"success\"\n        });\n      });\n      done();\n    },\n    handleRowEdit: function handleRowEdit(datas, done) {\n      var _this2 = this;\n\n      console.log(datas.row);\n      this.Get({\n        id: datas.row.id\n      }).then(\n      /*#__PURE__*/\n      function () {\n        var _ref2 = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee2(res) {\n          var model;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  model = res.result;\n\n                  if (model != null) {\n                    model.title = datas.row.title;\n                    model.subTitle = datas.row.subTitle;\n                    model.contents = datas.row.contents;\n                    model.tags = datas.row.tags;\n                    model.author = datas.row.author;\n                    model.isTop = datas.row.isTop;\n                    model.isRec = datas.row.isRec;\n                    model.isHot = datas.row.isHot;\n\n                    _this2.CreateOrUpdate(model).then(\n                    /*#__PURE__*/\n                    function () {\n                      var _ref3 = _asyncToGenerator(\n                      /*#__PURE__*/\n                      regeneratorRuntime.mark(function _callee(res) {\n                        return regeneratorRuntime.wrap(function _callee$(_context) {\n                          while (1) {\n                            switch (_context.prev = _context.next) {\n                              case 0:\n                                if (res.success) {\n                                  _this2.$message.success(\"修改成功！\");\n\n                                  done();\n                                } else {\n                                  console.log(\"err: \", res.error);\n                                }\n\n                              case 1:\n                              case \"end\":\n                                return _context.stop();\n                            }\n                          }\n                        }, _callee, this);\n                      }));\n\n                      return function (_x2) {\n                        return _ref3.apply(this, arguments);\n                      };\n                    }()).catch(function (err) {\n                      console.log(\"err: \", err);\n                    });\n                  }\n\n                case 2:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    },\n    formatDate: function formatDate(row, column, cellValue, index) {\n      var timestr = new Date(cellValue);\n      return util.Dtformat(\"yyyy-MM-dd hh:mm:ss\", timestr);\n    },\n    handleDialogCancel: function handleDialogCancel(done) {\n      this.$message({\n        message: \"取消保存\",\n        type: \"warning\"\n      });\n      done();\n    },\n    fetchData: function fetchData() {\n      var _this3 = this;\n\n      this.loading = true;\n      this.GetAll({\n        SkipCount: (this.pagination.currentPage - 1) * this.pagination.pageSize,\n        MaxResultCount: this.pagination.total\n      }).then(function (res) {\n        _this3.dataSource = res;\n        _this3.loading = false;\n      });\n    },\n    handleSelectionChange: function handleSelectionChange(selection) {\n      console.log(selection);\n    }\n  })\n};",{"version":3,"sources":["TabTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"tab-table\">\n    <basic-container>\n      <el-tabs v-model=\"tabKey\" @tab-click=\"handleClick\">\n        <el-tab-pane v-for=\"tab in tabs\" :label=\"tab.tab\" :name=\"tab.key\" :key=\"tab.key\">\n          <d2-crud\n            :columns=\"columns\"\n            :data=\"dataSource[tab.key]\"\n            :loading=\"loading\"\n            :pagination=\"pagination\"\n            :rowHandle=\"rowHandle\"\n            :form-template=\"formTemplate\"\n            :form-options=\"formOptions\"\n            selection-row\n            @selection-change=\"handleSelectionChange\"\n            @row-edit=\"handleRowEdit\"\n            @row-remove=\"handleRowRemove\"\n            @dialog-cancel=\"handleDialogCancel\"\n          ></d2-crud>\n        </el-tab-pane>\n      </el-tabs>\n    </basic-container>\n  </div>\n</template>\n\n<script>\nimport BasicContainer from \"@vue-materials/basic-container\";\nimport DeleteBalloon from \"./components/DeleteBalloon\";\nimport EditDialog from \"./components/EditDialog\";\nimport AddDialog from \"../../components/AddDialog\";\nimport { mapActions } from \"vuex\";\nimport util from \"@/libs/util.js\";\n\nexport default {\n  components: {\n    BasicContainer,\n    DeleteBalloon,\n    EditDialog,\n    AddDialog\n  },\n  name: \"TabTable\",\n\n  data() {\n    return {\n      tabKey: \"all\",\n      dataSource: {\n        all: [],\n        inreview: [],\n        released: [],\n        rejected: []\n      },\n      loading: true,\n      pagination: {\n        currentPage: 1,\n        pageSize: 10,\n        total:100000,\n        layout: 'prev, pager, next, total'\n      },\n      tabs: [\n        { tab: \"全部\", key: \"all\" },\n        { tab: \"已发布\", key: \"inreview\" },\n        { tab: \"审核中\", key: \"released\" },\n        { tab: \"已拒绝\", key: \"rejected\" }\n      ],\n      columns: [\n        {\n          title: \"ID\",\n          dataIndex: \"id\",\n          key: \"id\",\n          width: 50,\n          fixed: true,\n        },\n        {\n          title: \"标题\",\n          dataIndex: \"title\",\n          key: \"title\",\n          width: 320,\n          fixed: true,\n        },\n        {\n          title: \"标签\",\n          dataIndex: \"tags\",\n          key: \"tags\"\n        },\n        {\n          title: \"作者\",\n          dataIndex: \"author\",\n          key: \"author\"\n        },\n        {\n          title: \"置顶\",\n          dataIndex: \"isTop\",\n          key: \"isTop\"\n        },\n        {\n          title: \"更新时间\",\n          dataIndex: \"lastModificationTime\",\n          key: \"lastModificationTime\",\n          width: 240,\n          sortable: true,\n          formatter: this.formatDate\n        }\n      ],\n      rowHandle: {\n        columnHeader: \"操作\",\n        edit: {\n          icon: \"el-icon-edit\",\n          text: \"编辑\",\n          type: \"primary\",\n          size: \"small\"\n        },\n        remove: {\n          icon: \"el-icon-delete\",\n          text: \"删除\",\n          type: \"danger\",\n          size: \"small\"\n        }\n      },\n      formTemplate: {\n        title: {\n          title: \"标题\",\n          component: {\n            name: \"el-input\",\n            span: 18\n          }\n        },\n        id: {\n          title: \"ID\",\n          component: {\n            name: \"el-input\",\n            span: 6,\n            disabled: true\n          }\n        },\n        subTitle: {\n          title: \"副标题\"\n        },\n        contents: {\n          title: \"内容\",\n          component: {\n            name: \"el-input\",\n            type: \"textarea\"\n          }\n        },\n        tags: {\n          title: \"标签\",\n          component: {\n            name: \"el-input\",\n            span: 12\n          }\n        },\n        author: {\n          title: \"作者\",\n          component: {\n            name: \"el-input\",\n            span: 12\n          }\n        },\n        isTop: {\n          title: \"置顶\",\n          component: {\n            name: \"el-switch\",\n            span: 6\n          }\n        },\n        isRec: {\n          title: \"推荐\",\n          component: {\n            name: \"el-switch\",\n            span: 6\n          }\n        },\n        isHot: {\n          title: \"热\",\n          component: {\n            name: \"el-switch\",\n            span: 6\n          }\n        }\n      },\n      formOptions: {\n        labelWidth: \"120px\",\n        labelPosition: \"right\",\n        saveLoading: false\n      }\n    };\n  },\n\n  created() {},\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    ...mapActions(\"d2admin/Contents\", [\n      \"GetAll\",\n      \"Del\",\n      \"CreateOrUpdate\",\n      \"Get\"\n    ]),\n    handleClick(tab) {\n      console.log(tab);\n    },\n    handleRowRemove({ index, row }, done) {\n      this.Del({\n        id: row.id\n      }).then(res => {\n        console.log(res);\n        this.$message({\n          message: \"删除成功\",\n          type: \"success\"\n        });\n      });\n      done();\n    },\n    handleRowEdit(datas, done) {\n      console.log(datas.row);\n      this.Get({ id: datas.row.id }).then(async res => {\n        var model = res.result;\n        if (model != null) {\n          model.title = datas.row.title;\n          model.subTitle = datas.row.subTitle;\n          model.contents = datas.row.contents;\n          model.tags = datas.row.tags;\n          model.author = datas.row.author;\n          model.isTop = datas.row.isTop;\n          model.isRec = datas.row.isRec;\n          model.isHot = datas.row.isHot;\n          this.CreateOrUpdate(model)\n            .then(async res => {\n              if (res.success) {\n                this.$message.success(\"修改成功！\");\n                done();\n              } else {\n                console.log(\"err: \", res.error);\n              }\n            })\n            .catch(err => {\n              console.log(\"err: \", err);\n            });\n        }\n      });\n    },\n    formatDate(row, column, cellValue, index) {\n      var timestr = new Date(cellValue);\n      return util.Dtformat(\"yyyy-MM-dd hh:mm:ss\", timestr);\n    },\n    handleDialogCancel(done) {\n      this.$message({\n        message: \"取消保存\",\n        type: \"warning\"\n      });\n      done();\n    },\n    fetchData() {\n      this.loading = true;\n      this.GetAll({\n        SkipCount: (this.pagination.currentPage-1)*this.pagination.pageSize,\n        MaxResultCount: this.pagination.total\n      }).then(res => {\n        this.dataSource = res;\n        this.loading = false;\n      });\n    },\n    handleSelectionChange(selection) {\n      console.log(selection);\n    }\n  }\n};\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src\\pages\\Contents\\components\\TabTable"}]}